@using System.Web.Razor.Parser
@using asp_net_mvc_localization.Controllers
@using asp_net_mvc_localization.Models
@using Newtonsoft.Json
@using Newtonsoft.Json.Converters
@model List<User>
@{
    string jsonText = JsonConvert.SerializeObject(Model, Formatting.None, new IsoDateTimeConverter
    {
        DateTimeFormat = "d"
    });
    ViewBag.Title = "Table";
}

@Scripts.Render("~/bundles/datatables")

<script>    
    var dataSet = JSON.parse('@Html.Raw(jsonText)');
    $(document).ready(function () {
        $('.users-table').DataTable({
            data: dataSet,
            columns: [
                { data: "Username"},
                { data: "Email"},
                { data: "Password"},
                { data: "Age"},
                { data: "Birthday"},
                { data: "Rand"}
            ],
            oLanguage: {
                oPaginate: {
                    sNext: '@Resources.TableResources.sNext',
                    sPrevious: '@Resources.TableResources.sPrevious'
                },
                sSearch: '@Resources.TableResources.sSearch',
                sLengthMenu: '@Resources.TableResources.lengthMenu',
                sZeroRecords: '@Resources.TableResources.zeroRecords',
                sInfoEmpy: '@Resources.TableResources.infoEmpty',
                sInfo: '@Resources.TableResources.info',
                sInfoFiltered: '@Resources.TableResources.infoFiltered'
            }
        });
    });
</script>

<h2>@Resources.TableResources.Table</h2>
<table id="users" class="users-table">
    <thead>
        <tr>
            <th>@Resources.TableResources.UsernameTitle</th>
            <th>@Resources.TableResources.EmailTitle</th>
            <th>@Resources.TableResources.PasswordTitle</th>
            <th>@Resources.TableResources.AgeTitle</th>
            <th>@Resources.TableResources.BirthdayTitle</th>
            <th>@Resources.TableResources.RandTitle</th>
        </tr>
    </thead>
</table>